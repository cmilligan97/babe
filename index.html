<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine?</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      text-align:center;
      background:#fff;
      padding-top:40px;
      overflow:hidden;
      margin:0;
    }

    img{ width:220px; margin-bottom:20px; }
    h2{ margin-bottom:25px; }

    button{
      font-size:18px;
      padding:14px 28px;
      margin:10px;
      border:none;
      border-radius:14px;
      cursor:pointer;
      transition:transform .25s ease;
      white-space:nowrap;
    }

    #yesBtn{
      background:#ff4d6d;
      color:#fff;
      position:fixed;
      left:50%;
      bottom:18vh;
      transform:translateX(-50%) scale(1);
      transform-origin:bottom center;
      z-index:50;
    }

    #noBtn{
      background:#ddd;
      position:relative;
      z-index:10;
    }

    canvas{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:9999;
    }

    /* Loading screen */
    #loadingScreen{
      position:fixed;
      inset:0;
      background:#fff;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      z-index:10000;
      padding:24px;
    }

    #loadingTitle{ font-size:22px; margin:0 0 14px 0; }
    #loadingSub{ margin:0 0 18px 0; opacity:.7; font-size:14px; }

    .barWrap{
      width:min(320px,80vw);
      height:12px;
      background:#f1f1f1;
      border-radius:999px;
      overflow:hidden;
    }

    .barFill{
      height:100%;
      width:0%;
      background:#ff4d6d;
      border-radius:999px;
      transition:width .12s linear;
    }

    .dots{ margin-top:14px; opacity:.75; font-size:18px; }

    #app{ display:none; }

    /* Secret button */
    #secretBtn{
      position:fixed;
      right:14px;
      bottom:14px;
      width:44px;
      height:44px;
      border-radius:999px;
      border:none;
      background:#fff;
      box-shadow:0 8px 20px rgba(0,0,0,.12);
      cursor:pointer;
      font-size:20px;
      z-index:9000;
      opacity:.9;
    }

    /* Secret modal */
    #secretOverlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.25);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9500;
      padding:18px;
    }

    #secretCard{
      background:#fff;
      border-radius:18px;
      padding:18px;
      width:min(360px,92vw);
      box-shadow:0 14px 40px rgba(0,0,0,.22);
      text-align:center;
    }

    #closeSecret{
      font-size:14px;
      padding:10px 16px;
      border-radius:12px;
      border:none;
      background:#ff4d6d;
      color:#fff;
      cursor:pointer;
    }
  </style>
</head>

<body>

<div id="loadingScreen">
  <p id="loadingTitle">Loading your Valentineâ€¦ ğŸ’˜</p>
  <p id="loadingSub">Please wait while we prepare something cute ğŸ’–</p>
  <div class="barWrap"><div class="barFill" id="barFill"></div></div>
  <div class="dots" id="dots">.</div>
</div>

<div id="app">

  <img src="./minion.gif" alt="Minion Love" />

  <h2>Will you be my Valentine, babe? ğŸ’˜</h2>

  <button id="yesBtn">Yes ğŸ’–</button>
  <button id="noBtn">No ğŸ˜</button>

  <canvas id="confetti"></canvas>

  <button id="secretBtn">ğŸ’—</button>

  <div id="secretOverlay">
    <div id="secretCard">
      <h3>Secret message ğŸ’Œ</h3>
      <p>I love you, babe ğŸ’˜</p>
      <button id="closeSecret">okayyyy ğŸ¥¹</button>
    </div>
  </div>

</div>

<script>
/* Loading */
(function(){
  const app=document.getElementById("app");
  const screen=document.getElementById("loadingScreen");
  const bar=document.getElementById("barFill");
  const dots=document.getElementById("dots");

  let p=0,d=1;

  setInterval(()=>{
    d=(d%3)+1;
    dots.textContent=".".repeat(d);
  },250);

  const t=setInterval(()=>{
    p+=Math.random()*12+6;
    if(p>=100)p=100;
    bar.style.width=p+"%";

    if(p===100){
      clearInterval(t);
      setTimeout(()=>{
        screen.style.display="none";
        app.style.display="block";
      },350);
    }
  },180);
})();

/* Valentine logic */
let noScale=1, yesScale=1, clickCount=0;

const noTexts=[
  "No ğŸ˜","Wrong answer","Are you sure?","Think again","Câ€™mon ğŸ˜­",
  "You better say yes","Babeee pleaseeee ğŸ¥º","Why are you like this",
  "Okay last chance","â€¦yes?"
];

const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");

noBtn.addEventListener("click",()=>{
  clickCount++;

  noScale-=0.08;

  // Gentle growth at first, huge at the end
  yesScale = 1 + (clickCount * 0.45);

  noBtn.textContent=noTexts[Math.min(clickCount,noTexts.length-1)];

  noBtn.style.transform=`scale(${Math.max(noScale,.25)})`;
  yesBtn.style.transform=`translateX(-50%) scale(${yesScale})`;

  if(clickCount>=noTexts.length-1) noBtn.style.display="none";
});

/* Confetti */
function launchConfetti(d=5500){
  const c=document.getElementById("confetti");
  const x=c.getContext("2d");

  function r(){c.width=innerWidth;c.height=innerHeight;}
  r(); addEventListener("resize",r);

  const p=[];
  for(let i=0;i<220;i++){
    p.push({
      x:Math.random()*c.width,
      y:Math.random()*c.height-c.height,
      r:Math.random()*5+3,
      vx:(Math.random()-.5)*2,
      vy:Math.random()*3+2,
      col:`hsl(${Math.random()*360},100%,70%)`
    });
  }

  const s=performance.now();

  (function f(n){
    const e=n-s;
    x.clearRect(0,0,c.width,c.height);

    p.forEach(o=>{
      o.x+=o.vx; o.y+=o.vy;
      if(o.y>c.height){ o.y=-20; o.x=Math.random()*c.width; }

      x.fillStyle=o.col;
      x.fillRect(o.x,o.y,o.r*2,o.r);
    });

    if(e<d) requestAnimationFrame(f);
  })(performance.now());
}

yesBtn.addEventListener("click",()=>{
  document.body.innerHTML=`
    <canvas id="confetti"></canvas>

    <h1>YAYYYYY ğŸ’•ğŸ¥°</h1>
    <p>Thank you for being my forever Valentine ğŸ’–</p>

    <img src="./cat.gif"
      style="width:260px;margin-top:20px;"
      alt="Kissing Cat" />
  `;
  launchConfetti(5500);
});

/* Secret */
const sBtn=document.getElementById("secretBtn");
const sOv=document.getElementById("secretOverlay");
const sCl=document.getElementById("closeSecret");

sBtn.addEventListener("click",()=>sOv.style.display="flex");
sCl.addEventListener("click",()=>sOv.style.display="none");
sOv.addEventListener("click",e=>{
  if(e.target===sOv) sOv.style.display="none";
});
</script>

</body>
</html>

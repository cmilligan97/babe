<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine?</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      text-align:center;
      background:#fff;
      padding-top:40px;
      overflow:hidden;
      margin:0;
    }

    img{ width:220px; margin-bottom:20px; }
    h2{ margin-bottom:25px; }

    button{
      font-size:18px;
      padding:14px 28px;
      margin:10px;
      border:none;
      border-radius:14px;
      cursor:pointer;
      transition:transform .25s ease;
      white-space:nowrap;
    }

    /* Make YES anchored so it grows ‚Äúover‚Äù the bottom half */
    #yesBtn{
      background:#ff4d6d;
      color:#fff;
      position:fixed;
      left:50%;
      bottom:18vh;
      transform:translateX(-50%) scale(1);
      transform-origin:bottom center;
      z-index:50;
    }

    /* Keep NO above, but it‚Äôll get visually overwhelmed */
    #noBtn{
      background:#ddd;
      position:relative;
      z-index:10;
    }

    canvas{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:9999;
    }

    /* ---------------- Loading screen ---------------- */
    #loadingScreen{
      position:fixed;
      inset:0;
      background:#fff;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      z-index:10000;
      padding:24px;
    }

    #loadingTitle{
      font-size:22px;
      margin:0 0 14px 0;
    }

    #loadingSub{
      margin:0 0 18px 0;
      opacity:.7;
      font-size:14px;
    }

    .barWrap{
      width:min(320px, 80vw);
      height:12px;
      background:#f1f1f1;
      border-radius:999px;
      overflow:hidden;
    }

    .barFill{
      height:100%;
      width:0%;
      background:#ff4d6d;
      border-radius:999px;
      transition:width .12s linear;
    }

    .dots{
      margin-top:14px;
      opacity:.75;
      font-size:18px;
      letter-spacing:2px;
    }

    #app{ display:none; }

    /* ---------------- Secret button ---------------- */
    #secretBtn{
      position:fixed;
      right:14px;
      bottom:14px;
      width:44px;
      height:44px;
      border-radius:999px;
      border:none;
      background:#fff;
      box-shadow:0 8px 20px rgba(0,0,0,.12);
      cursor:pointer;
      font-size:20px;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:9000;
      transform:scale(1);
      transition:transform .15s ease;
      opacity:.9;
    }
    #secretBtn:active{ transform:scale(.92); }

    /* ---------------- Secret modal ---------------- */
    #secretOverlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.25);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9500;
      padding:18px;
    }

    #secretCard{
      background:#fff;
      border-radius:18px;
      padding:18px 18px 14px;
      width:min(360px, 92vw);
      box-shadow:0 14px 40px rgba(0,0,0,.22);
      text-align:center;
      transform:translateY(10px);
      animation:pop .18s ease forwards;
    }

    @keyframes pop{ to{ transform:translateY(0); } }

    #secretCard h3{ margin:0 0 8px 0; font-size:20px; }
    #secretCard p{ margin:0 0 12px 0; opacity:.8; }

    #closeSecret{
      font-size:14px;
      padding:10px 16px;
      border-radius:12px;
      border:none;
      background:#ff4d6d;
      color:#fff;
      cursor:pointer;
    }

    .spark{
      position:fixed;
      font-size:18px;
      pointer-events:none;
      z-index:9600;
      animation:sparkUp 900ms ease-out forwards;
    }
    @keyframes sparkUp{
      0%{ transform:translateY(0) scale(1); opacity:0; }
      10%{ opacity:1; }
      100%{ transform:translateY(-60px) scale(1.2); opacity:0; }
    }
  </style>
</head>

<body>

  <!-- Loading overlay -->
  <div id="loadingScreen">
    <p id="loadingTitle">Loading your Valentine‚Ä¶ üíò</p>
    <p id="loadingSub">Please wait while we prepare something cute üíñ</p>
    <div class="barWrap"><div class="barFill" id="barFill"></div></div>
    <div class="dots" id="dots">.</div>
  </div>

  <!-- Main app -->
  <div id="app">
    <img src="./minion.gif" alt="Minion Love" />

    <h2>Will you be my Valentine, babe? üíò</h2>

    <button id="yesBtn">Yes üíñ</button>
    <button id="noBtn">No üòê</button>

    <canvas id="confetti"></canvas>

    <button id="secretBtn" title="psst">üíó</button>

    <div id="secretOverlay">
      <div id="secretCard">
        <h3>Secret message üíå</h3>
        <p>I love you, babe üíò</p>
        <button id="closeSecret">okayyyy ü•π</button>
      </div>
    </div>
  </div>

  <script>
    /* Loading */
    (function(){
      const app = document.getElementById("app");
      const screen = document.getElementById("loadingScreen");
      const bar = document.getElementById("barFill");
      const dots = document.getElementById("dots");

      let p = 0, d = 1;

      const dt = setInterval(()=>{
        d = (d%3)+1;
        dots.textContent = ".".repeat(d);
      },250);

      const bt = setInterval(()=>{
        p += Math.random()*12+6;
        if(p>=100) p=100;
        bar.style.width = p+"%";

        if(p===100){
          clearInterval(bt);
          clearInterval(dt);
          setTimeout(()=>{
            screen.style.display="none";
            app.style.display="block";
          },350);
        }
      },180);
    })();

    /* Valentine logic */
    let noScale=1, clickCount=0;

    // YES starts normal but will quickly become HUGE.
    // We‚Äôll scale it based on how many times NO is clicked.
    let yesScale = 1;

    const noTexts=[
      "No üòê","Wrong answer","Are you sure?","Think again","C‚Äômon üò≠",
      "You better say yes","Babeee pleaseeee ü•∫","Why are you like this",
      "Okay last chance","‚Ä¶yes?"
    ];

    const noBtn=document.getElementById("noBtn");
    const yesBtn=document.getElementById("yesBtn");

    noBtn.addEventListener("click",()=>{
      clickCount++;

      // NO shrinks slowly‚Ä¶
      noScale -= 0.08;

      // YES grows FAST. This curve makes it take over the bottom half quickly.
      // (1st click ~1.9x, 2nd ~2.8x, 3rd ~3.7x, etc.)
      yesScale = 1 + (clickCount * 0.9);

      noBtn.textContent=noTexts[Math.min(clickCount,noTexts.length-1)];

      noBtn.style.transform=`scale(${Math.max(noScale,.25)})`;

      // Keep the translateX(-50%) + scale together for the fixed YES button
      yesBtn.style.transform = `translateX(-50%) scale(${yesScale})`;

      if(clickCount>=noTexts.length-1) noBtn.style.display="none";
    });

    /* Confetti */
    function launchConfetti(d=5500){
      const c=document.getElementById("confetti");
      const x=c.getContext("2d");

      function r(){c.width=innerWidth;c.height=innerHeight;}
      r(); addEventListener("resize",r);

      const p=[];
      for(let i=0;i<220;i++){
        p.push({
          x:Math.random()*c.width,
          y:Math.random()*c.height-c.height,
          r:Math.random()*5+3,
          vx:(Math.random()-.5)*2,
          vy:Math.random()*3+2,
          rot:Math.random()*Math.PI,
          vr:(Math.random()-.5)*.2,
          col:`hsl(${Math.random()*360},100%,70%)`
        });
      }

      const s=performance.now();

      (function f(n){
        const e=n-s;
        x.clearRect(0,0,c.width,c.height);

        p.forEach(o=>{
          o.x+=o.vx; o.y+=o.vy; o.rot+=o.vr;

          if(o.y>c.height+20){
            o.y=-20; o.x=Math.random()*c.width;
          }

          x.save();
          x.translate(o.x,o.y);
          x.rotate(o.rot);
          x.fillStyle=o.col;
          x.fillRect(-o.r,-o.r/2,o.r*2,o.r);
          x.restore();
        });

        if(e<d) requestAnimationFrame(f);
        else{
          x.clearRect(0,0,c.width,c.height);
          removeEventListener("resize",r);
        }
      })(performance.now());
    }

    yesBtn.addEventListener("click",()=>{
      document.body.innerHTML=`
        <canvas id="confetti"></canvas>

        <h1>YAYYYYY üíïü•∞</h1>
        <p>Thank you for being my forever Valentine üíñ</p>

        <img src="./cat.gif"
          style="width:260px;margin-top:20px;"
          alt="Kissing Cat" />
      `;
      launchConfetti(5500);
    });

    /* Secret */
    const sBtn=document.getElementById("secretBtn");
    const sOv=document.getElementById("secretOverlay");
    const sCl=document.getElementById("closeSecret");

    function spark(x,y){
      const h=["üíñ","üíò","üíó","üíï"];
      for(let i=0;i<10;i++){
        const e=document.createElement("div");
        e.className="spark";
        e.textContent=h[Math.floor(Math.random()*h.length)];
        e.style.left=(x+Math.random()*60-30)+"px";
        e.style.top=(y+Math.random()*20-10)+"px";
        document.body.appendChild(e);
        setTimeout(()=>e.remove(),1000);
      }
    }

    sBtn.addEventListener("click",e=>{
      sOv.style.display="flex";
      spark(e.clientX,e.clientY);
    });

    sCl.addEventListener("click",()=>sOv.style.display="none");
    sOv.addEventListener("click",e=>{
      if(e.target===sOv) sOv.style.display="none";
    });
  </script>

</body>
</html>
